

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.7. Elevation &mdash; QWAT 1.3.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Admin Guide" href="../admin-guide/index.html" />
    <link rel="prev" title="3.6. Impression dans QWAT" href="print.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> QWAT
          

          
          </a>

          
            
            
              <div class="version">
                1.3.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features-guide/index.html">1. QWAT features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation-guide/index.html">2. QWAT Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. QWAT User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="qwat_struct.html">3.1. Structuration du réseau d’Eau Potable sur QWAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="create.html">3.2. Création d’objets dans QWAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="update.html">3.3. Règles de base pour la mise à jour sur QWAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete.html">3.4. Suppression d’objets dans QWAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="link.html">3.5. Liaisons des différents objets dans QWAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="print.html">3.6. Impression dans QWAT</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.7. Elevation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#principles">3.7.1. Principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#behaviours">3.7.2. Behaviours</a></li>
<li class="toctree-l3"><a class="reference internal" href="#needed-tools">3.7.3. Needed tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-issues">3.7.4. Open Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">3.7.5. Références</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">4. Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributor-guide/index.html">5. Contributor’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide/index.html">6. Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo-guide/index.html">7. Demo data and project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">8. FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">9. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation/index.html">10. Translation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QWAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">3. QWAT User Guide</a> &raquo;</li>
        
      <li>3.7. Elevation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user-guide/elevation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="elevation">
<h1>3.7. Elevation<a class="headerlink" href="#elevation" title="Permalink to this headline">¶</a></h1>
<p>Managing Z values in a water distribution network is important and has to be treated carefully. We have to follow conventions and principles to ensure that we keep precision, measurements sources, and providing useful and easy way of managing the elevation information.</p>
<p>This page details how elevation is managed in the QWAT project.</p>
<div class="section" id="principles">
<h2>3.7.1. Principles<a class="headerlink" href="#principles" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Reference altitude values are stored in nodes and survey points. They may have been set manually, or set from field measurements</p>
</li>
<li><p class="first">3D geometries for pipes are automatically recomputed, and the Z value of the pipe’s vertices should not be set manually. The 3D geometry is recomputed from nodes and survey points by interpolating the values.</p>
</li>
<li><p class="first">Nodes and survey points tables feature informations on the precision, as well as source of measure (gps, interpolation, dtm, etc..). The following attributes are stored :</p>
<blockquote>
<div><ul class="simple">
<li>precision_plani : planimetric precision</li>
<li>precision_alt : altimetric precision</li>
<li>zsource : source of measure</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">A survey point does not necessarily correspond to a node. If the survey point spatially corresponds to a vertex, the value will also be used for interpolating the 3D geometry of the pipe.</p>
</li>
<li><p class="first">Each location where altitude are known (measured) has a corresponding survey point or node</p>
</li>
<li><p class="first">3D pipe geometry is always recomputed as a whole</p>
</li>
<li><p class="first">Default altitude is 0.0, as 3D geometries in PostGIS do not support null values for Z coordinate. Elevation values at 0.0 should not be manually set. Instead use the real field value, which should not be strictly equal to zero.</p>
</li>
</ul>
</div>
<div class="section" id="behaviours">
<h2>3.7.2. Behaviours<a class="headerlink" href="#behaviours" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>If we move an element of the network (valve, part, hydrant …) then attached pipe’s geometries are recomputed with 3D information</li>
<li>Any modification of a pipe’s geometry will trigger recomputation of its 3D geometry with calculated interpolated elevation</li>
<li>If a new vertex is created for a pipe, or a vertex is moved, the elevation value for this vertex is nulled (set to 0) and will be automatically recomputed</li>
<li>If we want to insert a node on a pipe and we do not know the elevation for this node, we should create the node, use the tool to compute an interpolated value on this node, and connect the pipe</li>
</ul>
</div>
<div class="section" id="needed-tools">
<h2>3.7.3. Needed tools<a class="headerlink" href="#needed-tools" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A tool to compute interpolated elevation for specific network element (valve, hydrant..). It uses the N nearest nodes and survey points to interpolate the altitude. N can be chosen in QGIS GUI.</li>
<li>Tool to compute interpolated elevation for specific network elements by pointing to a pipe</li>
<li>A tool to computed interpolated altitudes for a selection of objects (e.g. construction points over which a pipe passes), given a set of reference points (e.g. 3 surveys points)</li>
<li>A tool to create a node or a survey point at a specific pipe vertex, asking the user for elevation value and precision, with default value being the pipe’s vertex interpolated elevation value.</li>
</ul>
</div>
<div class="section" id="open-issues">
<h2>3.7.4. Open Issues<a class="headerlink" href="#open-issues" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>How to compute the precision for a pipe given the precision for nodes ? Where to store this computed information ?</li>
<li>When interpolating the pipe’s elevation, is there any parameter we want to set ? There should’nt be, but the buffer around the pipe to take survey points into account looks like an important parameter.</li>
</ul>
</div>
<div class="section" id="references">
<h2>3.7.5. Références<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/qwat/QWAT/issues/93">https://github.com/qwat/QWAT/issues/93</a></li>
<li><a class="reference external" href="https://github.com/qwat/qwat-data-model/issues/82">https://github.com/qwat/qwat-data-model/issues/82</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../admin-guide/index.html" class="btn btn-neutral float-right" title="4. Admin Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="print.html" class="btn btn-neutral" title="3.6. Impression dans QWAT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, QWAT team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>